<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">    
    <title>RWD</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    <link href="main.css" rel=stylesheet>    
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script>
       function showModal(obj) {
        if(obj.id.indexOf("my-btn1") >= 0) {       
            document.getElementById("testid1").style.display = "block";                        
        }
        else if (obj.id.indexOf("my-btn2") >= 0) {
            document.getElementById("testid2").style.display = "block";
        }
    };

    function showPic(obj) {
        if(obj.id.indexOf("my-imgbtn1-1") >= 0) {                   
            document.getElementById("my-imgbtn1-Pic").src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/80625/lime.svg"  
        }
        else if (obj.id.indexOf("my-imgbtn1-2") >= 0) {
            document.getElementById("my-imgbtn1-Pic").src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/80625/headerpic.svg"  
        }
        else if (obj.id.indexOf("my-imgbtn1-3") >= 0) {
            document.getElementById("my-imgbtn1-Pic").src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/80625/lemon.svg"  
        }
        else if (obj.id.indexOf("my-imgbtn1-4") >= 0) {
            document.getElementById("my-imgbtn1-Pic").src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/42764/heart-smil.svg"  
        }
    };



    function closeModal(obj) {
     if(obj.id.indexOf("my-btn1") >= 0) {
        document.getElementById("testid1").style.display = "none";
    }
    else if (obj.id.indexOf("my-btn2") >= 0) {
        document.getElementById("testid2").style.display = "none";
    }
}

</script>
<style type="text/css">
    /*        適用於電腦螢幕*/
    @media screen{
        body{
            height:99%;            
        }
        div{
            width:100%;
            height:95%;
            margin:auto;
        }
        header{
            width: 100%;
            height: 5%;
            background-color: white;
        }
        nav{
            width: 100%;
            height: calc( 75% - 300px);
            background-color: white;                
        }
        aside{
            width:50%;
            height: 500px;
            background-color: white;
            float: left;
        }  
        aside img{
            display:block;
            margin: auto;
        }
        article{
            width:50%;
            height: 500px;
            background-color: white;
            float: left;
            font-size:13px;
        }
        article h1{
            font-size:20px;
            color:brown;
            text-align: center;
            font-family:微軟正黑體;
            text-align: center;
            margin-top:40px;
        }
        article h2{
            font-size:14px;
            font-weight: normal;
            text-align: center;
            margin-top: 30px;
        }
        li img{
            width: 50px;
            height: 50px;                
        }
        ul.mark {
            position: absolute;
            left: 44%;        
            top: 365px;
        }
        div.pre {
            position: absolute;
            width: 120px;
            height:200px;
            left: 0%;
            top: 270px;
            background-color: rgb(13,13,13);
            cursor: pointer;
            transform: scale(0.25,0.25);
        } 
        div.next {
            position: absolute;
            width: 120px;
            height: 200px;
            right: 0%;
            top: 270px;
            background-color: rgb(13,13,13);
            cursor: pointer;
            transform: scale(0.25,0.25);
        }  
        .modal-dialog{
            height: 80%;            
        }
        .modal-header{
            height: 13%;
        }
        .modal-body{
            height: 80%;
        }
        .modal-body-left{
            width: 70%;
            float: left;
            height: 100%;
        }
        .modal-body-right{
            width: 30%;
            float: left;
            height: 100%;
        }
        .modal-body-right img{
            float: left;
            border:5px #FFAC55 solid;
        }

    }       
    /*        適用螢幕寬度小於480px的裝置（當螢幕小於480px時）*/ 
    @media screen and (max-width:480px){
        div{
            width:100%;
            height:auto;
            margin:auto;
        }
        header{
            width: 100%;
            height: 10%;
            background-color: white;

        }
        nav{
            width: 100%;
            height: auto;
            background-color: white;                
        }
        aside{
            width:100%;
            height: auto;
            background-color: white;
            float: none;
        }
        aside img{
            display:block;
            margin: auto;
        }
        article{
            width:100%;
            height:auto;
            background-color: white;
            float: none;
            font-size:13px;
            margin: auto;
        }
        article h1{
            font-size:20px;
            color:brown;
            text-align: center;
            font-family:微軟正黑體;
            text-align: center;
            margin-top:40px;
        }
        article h2{
            font-size:14px;
            font-weight: normal;
            text-align: center;
            margin-top: 30px;
        }
        li img{
            width: 95%;
            height: 250px;
        }
        li img{
            width: 95%;
            height: 220px;
        }
        ul.mark {
            position: absolute;
            left: 32%;        
            top: 290px;
        }
        div.pre {
            position: absolute;
            width: 120px;
            height:200px;
            left: 0%;
            top: 195px;
            background-color: rgb(13,13,13);
            cursor: pointer;
            transform: scale(0.25,0.25);
        }    
        div.next {
            position: absolute;
            width: 120px;
            height: 200px;
            right: 0%;
            top: 195px;
            background-color: rgb(13,13,13);
            cursor: pointer;
            transform: scale(0.25,0.25);
        }
        .modal-dialog{
            height: auto;
        }

    }
    /*        適用於平版直著拿的情況（平版橫著拿的情況就和電腦螢幕相同）*/
    @media screen and (min-width:481px) and (max-width:768px){
     div{
        width:100%;
        height:auto;
        margin:auto;
    }
    header{
        width: 100%;
        height: 10%;
        background-color: white;

    }
    nav{
        width: 100%;
        height: auto;
        background-color: white;                
    }
    aside{
        width:100%;
        height: auto;
        background-color: white;
        float: none;
        text-align: center;
    }
    aside img{
        display:inline-block;
    }
    article{
        width:100%;
        height:auto;
        background-color: white;
        float: none;
        font-size:16px;
        margin: auto;
    }
    article h1{
        font-size:24px;
        color:brown;
        text-align: center;
        font-family:微軟正黑體;
        text-align: center;
        margin-top:40px;
    }
    article h2{
        font-size:20px;
        font-weight: normal;
        text-align: center;
        margin-top: 30px;
    }
    li img{
        width: 50%;
        height: 320px;                
    }
    ul.mark {
        position: absolute;
        left: 44%;        
        top: 365px;
    }
    div.pre {
        position: absolute;
        width: 120px;
        height:200px;
        left: 0%;
        top: 270px;
        background-color: rgb(13,13,13);
        cursor: pointer;
        transform: scale(0.25,0.25);
    } 
    div.next {
        position: absolute;
        width: 120px;
        height: 200px;
        right: 0%;
        top: 270px;
        background-color: rgb(13,13,13);
        cursor: pointer;
        transform: scale(0.25,0.25);
    }   
    .modal-dialog{
        height: auto;
    }

}


* {margin: 0;padding:0;}
div.picdiv {
    position: relative;
    width: 100%;
    height: 460px;
    overflow: hidden;
}

ul.pic li {
    position: absolute;
    left:100%;
    list-style-type: none;
}

ul.pic li.on {
 width: 100%;
 left: 0;
 height: 75%;
}

ul.pic li {
 width: 100%;   
 height: 75%;
}


.productImg{
 width: 25%;
 height: 95%;   
}

ul.mark li {
    float: left;
    width:5px;
    height: 5px;
    border-radius: 15px;
    margin: 0 5px;
    background-color: red;
    list-style-type: none;
} 

ul.mark li.on {
    width: 30px;
}


div.pre:before {
    content:"";
    width: 0;
    height: 0;
    position: absolute;
    border-top:80px solid transparent ;
    border-right:80px solid #fff;
    border-bottom:80px solid transparent;
    left: 15px;
    top: 25px;
    display: block;
    transform: scale(0.25,0.25);
}

div.pre:after {
    content:"";
    width: 0;
    height: 0;
    position: absolute;
    border-top:80px solid transparent ;
    border-right:80px solid rgb(13,13,13);
    border-bottom:80px solid transparent;
    left: 25px;
    top: 25px;
    display: block;
    transform: scale(0.25,0.25);
}



div.next:before {
    content: "";
    width: 0;
    height: 0;
    position: absolute;
    border-top:80px solid transparent ;
    border-left:80px solid #fff;
    border-bottom:80px solid transparent;right: 15px;
    top: 25px;
    transform: scale(0.25,0.25);
}

div.next:after {
    content: "";
    width: 0;
    height: 0;
    position: absolute;
    border-top:80px solid transparent ;
    border-left:80px solid rgb(13,13,13);
    border-bottom:80px solid transparent;
    right: 25px;
    top: 25px;
    transform: scale(0.25,0.25);
}

</style>
</head>
<body>
    <div>
        <header>Title Test</header>
        <nav>
            <h3>line@設計</h3>
            <button type="button" class="productImg" onclick="showModal(this)" id="my-btn1" style="float: left;">
                <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/15979/404-character-new.png" height="100px" width="100px">
                <p>婚宴使用</p>
            </button>   
            <button type="button" class="productImg" onclick="showModal(this)" id="my-btn2" style="float: left;">
                <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/15979/404-character-new.png" height="100px" width="100px">
            </button> 
            <button type="button" class="productImg" onclick="showModal(this)" id="my-btn3" style="float: left;">
                <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/15979/404-character-new.png" height="100px" width="100px">
            </button> 
            <button type="button" class="productImg" onclick="showModal(this)" id="my-btn4" style="float: left;">
                <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/15979/404-character-new.png" height="100px" width="100px">
            </button>                      
        </nav>
        <aside>             
            <h3>二手商品櫃位</h3>
            <div class="picdiv">
                <ul class="pic">
                    <li class="on">                        
                        <p style="float: left;width: 50%;height: 95%;"><img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/80625/lemon.svg"></p>   
                        第1行<br>
                        第二行<br>
                        第三行<br>
                        第三行<br>
                        第三行<br>
                        第三行<br>
                        第三行<br>
                        第三行<br>
                        第三行<br>
                    </li>
                    <li>
                        <p style="float: left;width: 50%;height: 95%;"><img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/80625/lemon.svg"></p>   
                        第2行<br>
                        第二行<br>
                        第三行<br>
                        第三行<br>
                        第三行<br>
                        第三行<br>
                        第三行<br>
                        第三行<br>
                        第三行<br>
                    </li>
                    <li>
                        <p style="float: left;width: 50%;height: 95%;"><img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/80625/lemon.svg"></p>   
                        第3行<br>
                        第二行<br>
                        第三行<br>
                        第三行<br>
                        第三行<br>
                        第三行<br>
                        第三行<br>
                        第三行<br>
                        第三行<br>
                    </li>
                    <li>
                        <p style="float: left;width: 50%;height: 95%;"><img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/80625/lemon.svg"></p>   
                        第4行<br>
                        第二行<br>
                        第三行<br>
                        第三行<br>
                        第三行<br>
                        第三行<br>
                        第三行<br>
                        第三行<br>
                        第三行<br>
                    </li>
                </ul>
                <div class="pre"></div>
                <div class="next"></div>
            </div>            
        </aside>   
        <article>           
            <h2>連絡我們</h2>

        </article>          

    </div>

    <div class="modal" role="dialog" id="testid1" style="display: none">
       <div class="modal-dialog" role="document"> 
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" style="float: left;">1使用</h5>          
                <button type="button" class="btn btn-secondary" onclick="closeModal(this)" id="my-btn1-close" style="float: right;">Close</button>       
            </div>
            <div class="modal-body">
                <div class="modal-body-left">
                    <img id="my-imgbtn1-Pic" src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/80625/lime.svg" width="100px" height="100px">
                </div> 
                <div class="modal-body-right">                    
                    <button type="button" onclick="showPic(this)" id="my-imgbtn1-1" style="width: 45%;height: 100px;padding: 1px">
                        <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/80625/lime.svg"  width="100%" height="100%" >
                    </button>
                    <button type="button" onclick="showPic(this)" id="my-imgbtn1-2" style="width: 45%;height: 100px;padding: 1px">
                        <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/80625/headerpic.svg"  width="100%" height="100%" >
                    </button>
                    <button type="button" onclick="showPic(this)" id="my-imgbtn1-3" style="width: 45%;height: 100px;padding: 1px">
                        <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/80625/lemon.svg"  width="100%" height="100%">                    
                    </button>
                    <button type="button" onclick="showPic(this)" id="my-imgbtn1-4" style="width: 45%;height: 100px;padding: 1px">
                        <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/42764/heart-smil.svg"  width="100%" height="100%">
                    </button>
                </div> 
            </div>            
        </div>
    </div>
</div>


<div class="modal" role="dialog" id="testid2" style="display: none">
   <div class="modal-dialog" role="document"> 
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title">22222222</h5>                
        </div>
        <div class="modal-body">
            <p>我們要呈現在Modal22222裡的內容</p> 
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" onclick="closeModal(this)" id="my-btn2-close">Close</button>                
        </div>
    </div>
</div>
</div>



<script type="text/javascript">


    function picplay(ele,pre,next) {

        var index=lastindex=0;
        var pic=$(ele)
        var prebtn=$(pre)
        var nextbtn=$(next)

    tag(pic.length);         //創造標簽
    $("ul.mark li").mouseover(function(){   //標簽定位圖片
        var a=$(this).index()
        console.log(a)
        clearInterval(t)
        play(a)

    })
    $("ul.mark li").mouseout(function(){
        autoplay()
    })
    pic.mouseover(function () {
        clearInterval(t)
    })
    pic.mouseout(function () {
        autoplay()
    })

    prebtn.click(function () {
        clearInterval(t)
        index--;
        index<0 && (index=3)
        play(index)

    })
    $(pre,next).mouseout(function () {
        autoplay()
    })
    nextbtn.click(function () {
        clearInterval(t)
        index++;
        index>pic.length-1&& (index=0)
        nextplay(index)

    })
    function autoplay() {
       t=setInterval(function () {
           index++;
           index>pic.length-1 && (index=0)
           play(index)

       },3000)
   }
   autoplay();


   function play (a) {

    index=a
        pic.eq(a).css("left","100%").stop(true,true).animate({left:"0"},1000)  //使用的百分比，在css裏要給出固定的父元素寬度，不然縮小頁面會出現錯誤
        pic.eq(lastindex).stop(true,true).animate({left:"-100%"},1000)
        $("ul.mark li").removeClass("on")
        $("ul.mark li").eq(a).addClass("on")
        lastindex=a


    }
    function nextplay(a) {
        index=a
        pic.eq(a).css("left","-100%").stop(true,true).animate({left:"0"},1000)
        pic.eq(lastindex).stop(true,true).animate({left:"100%"},1000)
        $("ul.mark li").removeClass("on")
        $("ul.mark li").eq(a).addClass("on")
        lastindex=a
    }

    
}
picplay("ul.pic li","div.pre","div.next");
function tag(len) {                              //根據圖片數量創造小標簽
    var newul=$("<ul>").addClass("mark")
    for (var i = 0; i < len; i++) {
        console.log(i)
        newul.append($("<li>"))
    }
    newul.find("li:first").addClass("on")
    $("div.picdiv").append(newul)
}
</script>
</body>
</html>
